from os import listdir
import sys
from sys import argv

path = sys.argv[-1]

folioNums = list()
folioOneRecto = False

tsv = "image URN\tfolio URN"

n = 0
for eachFile in sorted(listdir(path)):
  if ".tiff" in eachFile:
    fileName = eachFile[:-5]
  else:
    fileName = eachFile[:-4]

  if folioOneRecto == False:
    print fileName
    findfolioOneRecto = raw_input("folio 1? Y/n: ")
    if findfolioOneRecto == "n" or findfolioOneRecto == "N":
      folioNums.append((fileName, ""))
    elif findfolioOneRecto == "y" or findfolioOneRecto == "Y":
      n = 1
      folioNums.append((fileName, "folio.1r"))
      folioOneRecto = True
      rectoVerso = "recto"
    else:
      print "Bad input"
  else:
    if rectoVerso == "recto":
      folioNums.append((fileName, "folio." + str(n)) + "v")
      rectoVerso = "verso"
    else:
      n = n + 1
      folioNums.append((fileName, "folio." + str(n)) + "r")
      rectoVerso = "recto"

for item in folioNums:
  tsv = tsv + "\n" + item[0] + "\t" + item[1]

print("Remember to fix final images!")

outFile = open("folioNums.tsv", mode='wb')
outFile.write(tsv)
outFile.close()
