import os
from os import listdir, path, system

loop = True
path = "/home/chris/Github/x_eu-images/full/"
directories = os.listdir(path)

while loop == True:
  name = raw_input("Convert a file? ID: ")
  origName = ""
  note = ""

  if name == "" or name == "n" or name == "no" or name == "done":
    loop = False
  elif name in directories:
    if os.path.exists(path + name + "/pdf"):
      if os.path.exists(path + name + "/jpg"):
        print("jpg folder already present.")
      else:
        origName = listdir(path + name + "/pdf")[0]
        command = "cp -rf /home/chris/Github/x_eu-images/full/" + name + "/pdf /home/chris/Github/x_eu-images/full/" + name + "/jpg; cd " + path + name + "/jpg; pdfimages -j *.pdf " + name + "; rm *.pdf; rm *.ppm"
        os.system(command)
        note = "original file : " + origName[:-4] + "\nrenamed file : " + name + "\n\ncommand : python pdf-extraction.py"

#        outfile = open(path + name + "/notes.txt", mode="w")
#        outfile.write(note)
#        outfile.close()
    else:
      print("No pdf.")
  else:
    print("Not a valid ID.")
